<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>WebXR Health Quest (P5) ‚Äì v2</title>
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
<style>
.hud { position: fixed; top: 8px; left: 8px; right: 8px; display:flex; gap:8px; flex-wrap:wrap; z-index: 10; }
.hud .pill { flex:1; min-width: 120px; padding: 8px 10px; border-radius: 10px; background: rgba(0,0,0,.45); color:#fff; font-family: ui-sans-serif, system-ui; font-size: clamp(12px, 2.2vw, 16px); text-align:center; }
.btn-ui { position: fixed; bottom: 14px; left: 50%; transform: translateX(-50%); padding: 10px 14px; border-radius: 12px; background: rgba(255,255,255,.9); color:#111; font-weight: 600; font-size: clamp(13px,2.4vw,17px); z-index: 10; box-shadow: 0 6px 16px rgba(0,0,0,.18); }
.visuallyhidden { position:absolute; left:-9999px; }
</style>
</head>
<body>
<!-- BGM: autoplay ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ user gesture ‚Üí ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π -->
<audio id="bgm" src="assets/bgm.mp3" loop preload="auto"></audio>


<div class="hud">
<div id="hud-mode" class="pill">‡πÇ‡∏´‡∏°‡∏î: ‡πÄ‡∏°‡∏ô‡∏π</div>
<div id="hud-score" class="pill">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
<div id="hud-timer" class="pill">‡πÄ‡∏ß‡∏•‡∏≤: 00:45</div>
<div id="hud-diff" class="pill">‡∏£‡∏∞‡∏î‡∏±‡∏ö: ‡∏õ‡∏Å‡∏ï‡∏¥ √ó1.0</div>
</div>
<button id="btn-exit" class="btn-ui" onclick="APP.goMenu()" style="display:none">‚üµ ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>


<a-scene renderer="colorManagement: true; highRefreshRate: true" background="color: #EAF7FF" vr-mode-ui="enabled: true" cursor="rayOrigin: mouse">
<a-assets>
<img id="img-veg" src="assets/veg.png"/>
<img id="img-fruit" src="assets/fruit.png"/>
<img id="img-fish" src="assets/fish.png"/>
<img id="img-soda" src="assets/soda.png"/>
<img id="img-chips" src="assets/chips.png"/>
<img id="img-fries" src="assets/fries.png"/>
</a-assets>


<!-- Camera rig -->
<a-entity id="rig" position="0 1.6 3">
<a-entity camera look-controls wasd-controls></a-entity>
<a-entity id="cursor" cursor="fuse: true; fuseTimeout: 900" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.008" material="color: #222; shader: flat"></a-entity>
<!-- MENU (‡∏¢‡πâ‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏Ç‡∏≠‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÇ‡∏ú‡∏•‡πà‡∏ï‡∏£‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏™‡∏°‡∏≠) -->
<a-entity id="menu" position="0 0 -1.2" visible="true">
<a-entity text="value: üßí ‡πÄ‡∏Å‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û ‡∏õ.5 (WebXR); align: center; width: 2.8; color: #0a2540" position="0 0.52 0"></a-entity>


<!-- Difficulty selector -->
<a-entity text="value: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å; align: center; width: 2.2; color: #333" position="0 0.28 0"></a-entity>
<a-entity id="diff-easy" geometry="primitive: plane; width: 0.8; height: .24" material="color: #E6FFFA" position="-0.9 0.05 0" class="clickable"></a-entity>
<a-entity text="value: ‡∏á‡πà‡∏≤‡∏¢; align: center; width: 1; color: #0b4" position="-0.9 0.05 0.01"></a-entity>
<a-entity id="diff-normal" geometry="primitive: plane; width: 0.8; height: .24" material="color: #EEF2FF" position="0 0.05 0" class="clickable"></a-entity>
<a-entity text="value: ‡∏õ‡∏Å‡∏ï‡∏¥; align: center; width: 1; color: #04b" position="0 0.05 0.01"></a-entity>
<a-entity id="diff-hard" geometry="primitive: plane; width: 0.8; height: .24" material="color: #FFF1F2" position="0.9 0.05 0" class="clickable"></a-entity>
<a-entity text="value: ‡∏¢‡∏≤‡∏Å; align: center; width: 1; color: #b04" position="0.9 0.05 0.01"></a-entity>


<!-- Mode buttons -->
<a-entity id="btn-hygiene" geometry="primitive: plane; width: 1.8; height: .28" material="color: #FFFFFF" position="0 -0.2 0" class="clickable"></a-entity>
<a-entity text="value: üßº Handwash Hero; align: center; width: 2.4; color: #111" position="0 -0.2 0.01"></a-entity>


<a-entity id="btn-nutrition" geometry="primitive: plane; width: 1.8; height: .28" material="color: #FFFFFF" position="0 -0.5 0" class="clickable"></a-entity>
<a-entity text="value: ü•ó Rainbow Plate; align: center; width: 2.4; color: #111" position="0 -0.5 0.01"></a-entity>


<a-entity id="btn-fitness" geometry="primitive: plane; width: 1.8; height: .28" material="color: #FFFFFF" position="0 -0.8 0" class="clickable"></a-entity>
<a-entity text="value: üèÉ Move Quest; align: center; width: 2.4; color: #111" position="0 -0.8 0.01"></a-entity>


<a-entity text="value: ‡πÅ‡∏ï‡∏∞/‡∏à‡πâ‡∏≠‡∏á/‡∏ö‡∏µ‡∏ö‡∏°‡∏∑‡∏≠ (pinch) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å; align: center; width: 2; color: #333" position="0 -1.1 0"></a-entity>
</a-entity>
</a-entity>


<!-- Controllers (ray) -->
<a-entity id="rightHand" laser-controls="hand: right"></a-entity>
<a-entity laser-controls="hand: left"></a-entity>


<!-- HANDS (WebXR Hands) + pinch raycaster -->
<a-entity id="handL" hand-tracking-controls="hand: left"></a-entity>
<a-entity id="handR" hand-tracking-controls="hand: right"></a-entity>
<a-entity id="handRay" raycaster="objects: .clickable; far: 2" line="opacity: 0.0"></a-entity>
</html>
