<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <title>VR สุขภาพ ป.5 (ใหม่)</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="./js/app.js"></script>
  <style>html,body{margin:0;height:100%;background:#101418}</style>
</head>
<body>
  <a-scene background="color: #0f172a" renderer="colorManagement: true; physicallyCorrectLights: true;">
    <a-assets timeout="60000">
      <img id="sky" src="./assets/sky.jpg"/>
      <img id="btn" src="./assets/btn.png"/>
      <!-- Hygiene step images -->
      <img id="h0" src="./assets/hygiene_1.jpg"/>
      <img id="h1" src="./assets/hygiene_2.jpg"/>
      <img id="h2" src="./assets/hygiene_3.jpg"/>
      <img id="h3" src="./assets/hygiene_4.jpg"/>
      <img id="h4" src="./assets/hygiene_5.jpg"/>
      <img id="h5" src="./assets/hygiene_6.jpg"/>
      <img id="h6" src="./assets/hygiene_7.jpg"/>
      <audio id="click" src="./assets/click.wav"></audio>
      <audio id="ok" src="./assets/ok.wav"></audio>
      <audio id="no" src="./assets/no.wav"></audio>
    </a-assets>

    <a-sky src="#sky"></a-sky>
    <a-entity light="type: ambient; intensity: 0.9"></a-entity>
    <a-entity light="type: directional; intensity: 0.6" position="0 3 -1"></a-entity>

    <!-- Camera rig + cursor -->
    <a-entity id="rig">
      <a-entity id="cam" camera look-controls position="0 1.6 0">
        <a-entity id="cursor" cursor="fuse: true; fuseTimeout: 900"
          raycaster="objects: .clickable"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.004; radiusOuter: 0.006"
          material="color: #fff; shader: flat; opacity: 0.9"></a-entity>
        <!-- HUD -->
        <a-entity id="hud" position="0 -0.18 -0.8">
          <a-entity geometry="primitive: plane; width: 0.70; height: 0.12" material="color:#000; opacity:0.55"></a-entity>
          <a-entity id="hudText" text="value: พร้อมเริ่ม; width:2.2; align:center; color:#fff; wrapCount:34" position="0 0 0.01"></a-entity>
        </a-entity>
      </a-entity>
    </a-entity>

    <!-- Main Menu (centered and high-contrast) -->
    <a-entity id="uiMain" position="0 1.55 -1.8">
      <a-entity geometry="primitive: plane; width: 1.2; height: 0.86" material="color:#0b3d91; opacity:0.95"></a-entity>
      <a-entity text="value: เกมสุขภาพ ป.5 (ใหม่); width:3.2; align:center; color:#fff" position="0 0.34 0.01"></a-entity>

      <a-entity id="btnTimed" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 0.12 0.01">
        <a-entity text="value: เริ่มเกม (จับเวลา); width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>

      <a-entity id="btnPractice" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 -0.06 0.01">
        <a-entity text="value: โหมดฝึก (ไม่จับเวลา); width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>

      <a-entity id="btnHow" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 -0.24 0.01">
        <a-entity text="value: วิธีเล่น; width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>
    </a-entity>

    <!-- How to -->
    <a-entity id="uiHow" visible="false" position="0 1.55 -1.8">
      <a-entity geometry="primitive: plane; width: 1.2; height: 0.9" material="color:#111; opacity:0.95"></a-entity>
      <a-entity text="value: วิธีเล่น: ใช้วงเล็งกึ่งกลางจอจ้องปุ่ม/เป้าจนวงเต็ม หรือแตะจอเพื่อกด; width:3.0; align:center; color:#fff; wrapCount:40" position="0 0.18 0.01"></a-entity>
      <a-entity id="btnCloseHow" class="clickable" geometry="primitive: plane; width:0.9; height:0.16" material="src:#btn; transparent:true" position="0 -0.28 0.01">
        <a-entity text="value: ปิด; width:2.2; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>
    </a-entity>

    <!-- Game Select -->
    <a-entity id="uiSelect" visible="false" position="0 1.55 -1.8">
      <a-entity geometry="primitive: plane; width: 1.2; height: 0.92" material="color:#065f46; opacity:0.95"></a-entity>
      <a-entity text="value: เลือกมินิเกม; width:3.0; align:center; color:#fff" position="0 0.36 0.01"></a-entity>

      <a-entity id="selHygiene" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 0.14 0.01">
        <a-entity text="value: อนามัยส่วนบุคคล (ล้างมือ 7 ขั้น); width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>

      <a-entity id="selNutrition" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 -0.06 0.01">
        <a-entity text="value: โภชนาการ (เลือกอาหาร); width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>

      <a-entity id="selExercise" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 -0.26 0.01">
        <a-entity text="value: ออกกำลังกาย (ตีเป้า); width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>

      <a-entity id="btnBackMain" class="clickable" geometry="primitive: plane; width:1.0; height:0.12" material="src:#btn; transparent:true" position="0 -0.42 0.01">
        <a-entity text="value: กลับหน้าหลัก; width:2.4; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>
    </a-entity>

    <!-- Hygiene step illustration (always centered; hide/show by code) -->
    <a-entity id="hPanel" visible="false" position="0 1.48 -1.28">
      <a-entity id="hImg" geometry="primitive: plane; width: 0.96; height: 0.54" material="color:#000; opacity:0.9"></a-entity>
      <a-entity id="hCap" position="0 -0.38 0.01" text="value: ; width: 2.8; align: center; color:#fff; wrapCount: 38"></a-entity>
    </a-entity>

    <!-- Game root -->
    <a-entity id="game" visible="false"></a-entity>

    <!-- Summary -->
    <a-entity id="uiSummary" visible="false" position="0 1.55 -1.8">
      <a-entity geometry="primitive: plane; width: 1.2; height: 0.9" material="color:#111827; opacity:0.96"></a-entity>
      <a-entity id="sumTitle" text="value: สรุปผล; width:3.0; align:center; color:#fff" position="0 0.32 0.01"></a-entity>
      <a-entity id="sumText" text="value: ; width:2.8; align:center; color:#e5e7eb; wrapCount: 40" position="0 0.04 0.01"></a-entity>
      <a-entity id="btnSumBack" class="clickable" geometry="primitive: plane; width:1.0; height:0.16" material="src:#btn; transparent:true" position="0 -0.28 0.01">
        <a-entity text="value: กลับเลือกเกม; width:2.8; align:center; color:#111" position="0 0 0.01"></a-entity>
      </a-entity>
    </a-entity>
  </a-scene>
</body>
</html>
